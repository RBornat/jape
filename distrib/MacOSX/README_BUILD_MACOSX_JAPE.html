<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- $id:$ -->

<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta http-equiv="Content-Style-Type" content="text/css"/>
  <title>How to build Jape on Mac OS X.</title>
</head>

<body>

<h1>How to build Jape on MacOS (April 2018)</h1>


<p >Currently we build MacOS Jape on Sierra and High Sierra,
and use OCaml 4.06.0 and Java 1.7 or 1.8.  We build Linux Jape with the
same Ocaml version, but on a Linux machine.</p>



<h2> If you want to build Jape yourself</h2>


<p >1. Install the developer tools (get them from Apple; these days I think you
have to get them by installing Xcode and then asking Xcode to install them). You will also
need git, if it isn't in the developer tools.</p>


<p >2. Make sure ant (installed by the developer tools) is
known to the shell (and why Apple doesn't do this, I don't
know). I added the following lines to <tt>~/.profile</tt>:</p>


<tt><pre>
        ## ant variables added by richard 13/ii/2008 start
        ## Do not remove the previous line
        
        PATH="$PATH:/usr/share/ant/bin"
        export PATH
        ANTHOME="/usr/share/ant"
        export ANTHOME
        JAVA_HOME="/Library/Java/Home"
        export JAVA_HOME
        
        ## Do not remove the next line
        ## ant variables added by richard 13/ii/2008 end
</pre></tt>



<p >3. You will need OCaml to build the jape ‘engine’ (at time of writing, in April 2018, 
Jape is built using ocaml 4.06.0; but has been known to build with ocaml 3.12)</p>


<p>3. You will need Java 1.7 or 1.8. Our build system is ok with either. </p>

<p>4. Put jarbundler-3.3.0-forjape.jar, an ant task, stored in the directory where you found this file (<tt>...../distrib/MacOSX</tt>), in the ant library
<tt>/usr/share/ant/lib</tt> (or whereever your ant library is). Delete any previous jarbundler versions.
</p>

<p>5. In the directory where you found this file (<tt>...../distrib/MacOSX</tt>):

<pre>
        <tt>make local</tt> 
</pre>

builds the engine and the GUI interface, bundles them together and puts them in <tt>./build/Jape.app</tt>

<pre>
        <tt>make run</tt> 
</pre>
lets you try it out. If it works, move <tt>build/Jape.app</tt> where you like.
</p>

<br/><hr width="60%"/><br/>




<h2>Contact</h2>
<p>Build originally documented by Richard Bornat (<tt>richard@bornat.me.uk</tt>), 11th March 2009; 
subsequently edited by Bernard Sufrin (@ <tt>cs ox ac uk</tt>), late July 2012 and early April and October 2014. And 
then edited again by Richard Bornat in January 2016 and April 2018.</p>

</body>
</html>




